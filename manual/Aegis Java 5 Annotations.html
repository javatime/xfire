<html>
    <head>
        <title>Codehaus XFire : Aegis Java 5 Annotations</title>
           <link rel="stylesheet" href="http://codehaus.org/codehaus-style.css" type="text/css">
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    </head>

    <body>
<table width="100%" id="layout" style="padding:0px;margin0px;" cellpadding="0" cellspacing="0">
			<tr>
			  <td id="leftColumn" valign="top" style="padding-top: 0px;">
 <span id="Content"><h1><a name="Navigation-CodehausXFire"></a>Codehaus XFire</h1>

<ul>
	<li><a href="Home.html" title="Home">Home</a></li>
	<li><a href="http://jira.codehaus.org/secure/BrowseProject.jspa?id=10750" title="Visit page outside Confluence">Bug/Issue Reporting</a></li>
	<li><a href="Download.html" title="Download">Download</a></li>
	<li><a href="Eclipse Plugin.html" title="Eclipse Plugin">Eclipse Plugin</a></li>
	<li><a href="FAQ.html" title="FAQ">FAQ</a></li>
	<li><a href="Get Involved.html" title="Get Involved">Get Involved</a></li>
	<li><a href="License.html" title="License">License</a></li>
	<li><a href="News.html" title="News">News</a></li>
	<li><a href="Performance.html" title="Performance">Performance</a></li>
	<li><a href="Stack Comparison.html" title="Stack Comparison">Stack Comparison</a></li>
	<li><a href="Support.html" title="Support">Support/Mailing&nbsp;Lists</a></li>
	<li><a href="XFire Team.html" title="XFire Team">Team</a></li>
	<li><a href="Who uses XFire.html" title="Who uses XFire">Who uses XFire</a></li>
	<li><a href="XFire and Celtix Merge.html" title="XFire and Celtix Merge">XFire and Celtix Merge</a></li>
</ul>


<h1><a name="Navigation-Documentation"></a>Documentation</h1>

<ul>
	<li><a href="Articles.html" title="Articles">Articles</a></li>
	<li><a href="http://envoisolutions.com/xfire/api/" title="Visit page outside Confluence">Javadocs</a></li>
	<li><a href="User's Guide.html" title="User's Guide">User's Guide</a></li>
	<li><a href="http://xfire.codehaus.org/XFire+1.2.5+Release+Notes" title="Visit page outside Confluence">Release Notes</a></li>
</ul>


<h1><a name="Navigation-Quicklinks"></a>Quicklinks</h1>

<ul>
	<li><a href="Aegis Binding.html" title="Aegis Binding">Aegis Binding</a></li>
	<li><a href="Bindings.html" title="Bindings">Bindings</a></li>
	<li><a href="Client API.html" title="Client API">Client</a></li>
	<li><a href="JAXB 2.0.html" title="JAXB 2.0">JAXB 2.0</a></li>
	<li><a href="JSR 181 Annotations.html" title="JSR 181 Annotations">JSR 181 Annotations</a></li>
	<li><a href="Spring.html" title="Spring">Spring</a></li>
</ul>


<h1><a name="Navigation-Developers"></a>Developers</h1>

<ul>
	<li><a href="Developer Space.html" title="Developer Space">Developer Space</a></li>
	<li><a href="Source Repository.html" title="Source Repository">Source Repository</a></li>
	<li><a href="Building.html" title="Building">Building</a></li>
	<li><a href="Architecture.html" title="Architecture">Architecture</a></li>
	<li><a href="Interesting Projects.html" title="Interesting Projects">Interesting Projects</a></li>
	<li><a href="http://jira.codehaus.org/browse/XFIRE?report=com.atlassian.jira.plugin.system.project:roadmap-panel;jsessionid=aK1v8CLUmmyg3ULf8F" title="Visit page outside Confluence">Roadmap</a></li>
	<li><a href="Release Process.html" title="Release Process">Release Process</a></li>
	<li><a href="JAX-WS.html" title="JAX-WS">JAX&#45;WS</a></li>
</ul>


<h1><a name="Navigation-Sponsors"></a><a href="Sponsors.html" title="Sponsors">Sponsors</a></h1></span>
                        </td>
				<td id="rightColumn" valign="top">
				    <table cellpadding='5' width='85%' cellspacing='8px' class='infoMacro' border="0" align='center'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="./icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b class="strong">JAXB 2.0</b><br />
<p>If you are on Java 5, you might want to consider using the <a href="JAXB 2.0.html" title="JAXB 2.0">JAXB 2.0</a> support in XFire. It also allows you to customize your classes via annotations, but it also supports a march larger set of XML schema than these annotations.</p></td></tr></table>
<p><br clear="all" /></p>

<p><br clear="all" /></p>

<h2><a name="AegisJava5Annotations-WorkinginJava5"></a>Working in Java 5</h2>

<p>Everything mentioned above will still work in Java 5.0 but you will get several additional features:</p>
<ol>
	<li>Support for Generics and Collections</li>
	<li>Enum Support</li>
	<li>Ability to use Attributes to control naming</li>
	<li>Nice integration with XFire's JSR 181 support</li>
</ol>


<p>Of the above generics and enums should work out of the box. Just declare and use.</p>

<h3><a name="AegisJava5Annotations-AegisAnnotations"></a>Aegis Annotations</h3>

<p>Lets say we would like to control the naming of our elements again. Via annotations it would look like so:<br clear="all" />
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">import</span> org.codehaus.xfire.aegis.type.java5.XmlElement;

@XmlType(namespace=<span class="code-quote">"urn:north-pole:operations"</span>)
<span class="code-keyword">public</span> class Employee
{
  <span class="code-keyword">private</span> <span class="code-object">String</span> name;
  <span class="code-keyword">private</span> <span class="code-object">String</span> title;

  @XmlElement(name=<span class="code-quote">"Name"</span>, namespace=<span class="code-quote">"urn:north-pole:operations"</span>)
  <span class="code-keyword">public</span> <span class="code-object">String</span> getName() { <span class="code-keyword">return</span> name; }
  <span class="code-keyword">public</span> void setName(<span class="code-object">String</span> name) { <span class="code-keyword">this</span>.name = name; }

  @XmlElement(name=<span class="code-quote">"Title"</span>, namespace=<span class="code-quote">"urn:north-pole:operations"</span>)
  <span class="code-keyword">public</span> <span class="code-object">String</span> getTitle() { <span class="code-keyword">return</span> title; }
  <span class="code-keyword">public</span> void setTitle(<span class="code-object">String</span> title) { <span class="code-keyword">this</span>.title = title; }
}</pre>
</div></div><br clear="all" /> <br clear="all" />
Notice, annotations are declared on the read method of a property.
<br clear="all" /></p>

<p>Voila, this should serialize as:<br clear="all" />
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;np:Employee <span class="code-keyword">xmlns:np</span>=<span class="code-quote">"urn:north-pole:operations"</span>&gt;</span>
  <span class="code-tag">&lt;np:Name&gt;</span>Santa Claus<span class="code-tag">&lt;/np:Name&gt;</span>
  <span class="code-tag">&lt;np:Title&gt;</span>Chief Present Officer (CPO)<span class="code-tag">&lt;/np:Title&gt;</span>
<span class="code-tag">&lt;/np:Employee&gt;</span></pre>
</div></div><br clear="all" /> <br clear="all" />
You could of course use the XmlAttribute type as well:
<br clear="all" /> <br clear="all" />
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">import</span> org.codehaus.xfire.aegis.type.java5.XmlElement;
...
<span class="code-keyword">public</span> class Employee
{
  <span class="code-keyword">private</span> <span class="code-object">String</span> name;
  <span class="code-keyword">private</span> <span class="code-object">String</span> title;

  @XmlAttribute(name=<span class="code-quote">"Name"</span>, namespace=<span class="code-quote">"urn:north-pole:operations"</span>)
  <span class="code-keyword">public</span> <span class="code-object">String</span> getName() { <span class="code-keyword">return</span> name; }
  <span class="code-keyword">public</span> void setName(<span class="code-object">String</span> name) { <span class="code-keyword">this</span>.name = name; }

....
}</pre>
</div></div><br clear="all" /> <br clear="all" />
This would serialize as:
<br clear="all" /> <br clear="all" />
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;np:Employee np:Name=<span class="code-quote">"Santa Claus"</span> <span class="code-keyword">xmlns:np</span>=<span class="code-quote">"urn:north-pole:operations"</span>&gt;</span>
  <span class="code-tag">&lt;np:Title&gt;</span>Chief Present Officer (CPO)<span class="code-tag">&lt;/np:Title&gt;</span>
<span class="code-tag">&lt;/np:Employee&gt;</span></pre>
</div></div><br clear="all" /> <br clear="all" />
You can also prevent a property from appearing in the WSDL by using the IgnoreProperty:
<br clear="all" />
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">import</span> org.codehaus.xfire.aegis.type.java5.IgnoreProperty;
..
<span class="code-keyword">public</span> class Employee
{
  <span class="code-keyword">private</span> <span class="code-object">String</span> password;

  @IgnoreProperty
  <span class="code-keyword">public</span> <span class="code-object">String</span> getPassword() {<span class="code-keyword">return</span> password;}

  ...
}</pre>
</div></div><br clear="all" /></p>

				    
                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
